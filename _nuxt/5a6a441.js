(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{211:function(e,t,r){"use strict";var n=r(9),o=r(2),c=r(90),l=r(14),h=r(12),m=r(37),d=r(163),f=r(89),v=r(162),w=r(4),k=r(38),I=r(61).f,z=r(25).f,C=r(13).f,E=r(212).trim,y="Number",x=o.Number,S=x.prototype,R=m(k(S))==y,U=function(e){if(f(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,n,o,c,l,h,code,m=v(e,"number");if("string"==typeof m&&m.length>2)if(43===(t=(m=E(m)).charCodeAt(0))||45===t){if(88===(r=m.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(m.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+m}for(l=(c=m.slice(2)).length,h=0;h<l;h++)if((code=c.charCodeAt(h))<48||code>o)return NaN;return parseInt(c,n)}return+m};if(c(y,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var A,M=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof M&&(R?w((function(){S.valueOf.call(r)})):m(r)!=y)?d(new x(U(t)),r,M):U(t)},D=n?I(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;D.length>N;N++)h(x,A=D[N])&&!h(M,A)&&C(M,A,z(x,A));M.prototype=S,S.constructor=M,l(o,y,M)}},212:function(e,t,r){var n=r(17),o=r(10),c="["+r(213)+"]",l=RegExp("^"+c+c+"*"),h=RegExp(c+c+"*$"),m=function(e){return function(t){var r=o(n(t));return 1&e&&(r=r.replace(l,"")),2&e&&(r=r.replace(h,"")),r}};e.exports={start:m(1),end:m(2),trim:m(3)}},213:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},214:function(e,t,r){var content=r(217);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(118).default)("7ca7cd2f",content,!0,{sourceMap:!1})},216:function(e,t,r){"use strict";r(214)},217:function(e,t,r){var n=r(117)(!1);n.push([e.i,"#maze{display:inline-block}#maze #mazeGUI{margin-left:auto;table-layout:fixed;min-width:400px;min-height:400px;width:50vw;height:50vw;max-width:80vmin;max-height:80vmin;background-color:#fff;border-collapse:collapse}#maze #mazeGUI .wall{background-color:#494949}#maze #mazeGUI .road{background-color:#fff}#maze #mazeGUI .user{background-color:#00a2ff}#maze #mazeGUI .goal{background-color:red}#maze #mazeGUI .trace{background-color:#9ac553}@media screen and (max-width:670px){#maze{display:inline-block}#maze #mazeGUI{margin-left:auto;table-layout:fixed;min-width:400px;min-height:400px;width:50vw;height:50vw;max-width:80vmin;max-height:80vmin;background-color:#fff;border-collapse:collapse}#maze #mazeGUI .wall{background-color:#494949}#maze #mazeGUI .road{background-color:#fff}#maze #mazeGUI .user{background-color:#00a2ff}#maze #mazeGUI .goal{background-color:red}#maze #mazeGUI .trace{background-color:#9ac553}#container-inner{display:flexbox}#mazeGUI{min-width:80vmin!important;min-height:80vmin!important}}",""]),e.exports=n},221:function(e,t,r){"use strict";r.r(t);var n,o,c,l=r(113),h=r(119),m=r(120),d=(r(46),r(62),r(211),r(30),function(){function e(){var t=this;Object(h.a)(this,e),this.gameData=[],this.rowStack=[],this.colStack=[],this.mazeSize=0,this.pointerRow=0,this.pointerCol=0,this.userRow=0,this.userCol=0,this.goalRow=0,this.goalCol=0,this.moveCount=0,this.pushIt=function(){t.rowStack.push(t.pointerRow),t.colStack.push(t.pointerCol)},this.rnd=function(e){return Math.floor(Math.random()*e)},this.shuffle=function(e){for(var t=Object(l.a)(e).slice(0),i=t.length-1;i>=0;i--){var r=Math.floor(Math.random()*(i+1)),n=[t[r],t[i]];t[i]=n[0],t[r]=n[1]}return t},this.incMoveCount=function(){t.moveCount++,document.getElementById("stepCount").innerText="移動数: "+String(t.moveCount)},this.decMoveCount=function(){t.moveCount--,document.getElementById("stepCount").innerText="移動数: "+String(t.moveCount)},this.resetMoveCount=function(){t.moveCount=0,document.getElementById("stepCount").innerText="移動数: "+String(t.moveCount)}}return Object(m.a)(e,[{key:"init",value:function(e){this.mazeSize=e;for(var i=0;i<e;i++){this.gameData[i]=[];for(var t=0;t<e;t++)this.gameData[i][t]=!0}return this.pointerRow=this.rnd(this.mazeSize-2)+1,this.pointerCol=this.rnd(this.mazeSize-2)+1,this.gameData[this.pointerRow][this.pointerCol]=!1,this.pushIt(),this}},{key:"create",value:function(e){this.init(e);for(var t=!0;t;)for(this.extend(),t=!1;0!==this.rowStack.length&&0!==this.colStack.length;)if(this.pointerRow=this.rowStack.pop(),this.pointerCol=this.colStack.pop(),this.canExtendAny()){t=!0;break}return this.resetUser(),this.resetGoal(),this.resetMoveCount(),this}},{key:"extend",value:function(){for(var e=!0;e;)e=this.extendSub()}},{key:"extendSub",value:function(){for(var e=this.shuffle([0,1,2,3]);0!==e.length;){var t=e.pop();if(this.canExtend(t))return this.move(t),!0}return!1}},{key:"canExtend",value:function(e){var t=this.pointerRow,r=this.pointerCol;switch(e){case 0:t--;break;case 1:t++;break;case 2:r--;break;case 3:r++}return this.countSurroundingPath(t,r)<=1}},{key:"countSurroundingPath",value:function(e,col){var t=0;return(e-1<0||!this.gameData[e-1][col])&&t++,(e+1>this.mazeSize-1||!this.gameData[e+1][col])&&t++,(col-1<0||!this.gameData[e][col-1])&&t++,(col+1>this.mazeSize-1||!this.gameData[e][col+1])&&t++,t}},{key:"canExtendAny",value:function(){return this.canExtend(0)||this.canExtend(1)||this.canExtend(2)||this.canExtend(3)}},{key:"move",value:function(e){switch(e){case 0:this.pointerRow--;break;case 1:this.pointerRow++;break;case 2:this.pointerCol--;break;case 3:this.pointerCol++}this.gameData[this.pointerRow][this.pointerCol]=!1,this.pushIt()}},{key:"resetUser",value:function(){for(this.userRow=this.mazeSize-1,this.userCol=1;this.gameData[this.userRow-1][this.userCol];)this.userCol++;return this.gameData[this.userRow][this.userCol]=!1,this}},{key:"resetGoal",value:function(){for(this.goalRow=0,this.goalCol=this.mazeSize-2;this.gameData[this.goalRow+1][this.goalCol];)this.goalCol--;return this.gameData[this.goalRow][this.goalCol]=!1,this}},{key:"userMovable",value:function(e){var t=this.userRow,r=this.userCol;switch(e){case 0:t--;break;case 1:t++;break;case 2:r--;break;case 3:r++}return t>this.mazeSize-1||this.gameData[t][r]?[!1,null,null]:[!0,t,r]}},{key:"moveUser",value:function(e){var t=this.userMovable(e),r=t[0],n=t[1],o=t[2];if(!r)return this;var l=document.getElementById("mazeGUI");l.rows[this.userRow].cells[this.userCol].classList.remove("user"),document.getElementById("trace").checked?l.rows[this.userRow].cells[this.userCol].setAttribute("class","trace"):l.rows[this.userRow].cells[this.userCol].setAttribute("class","road");var h=[n,o,n,o];return this.userRow=h[0],this.userCol=h[1],this.pointerRow=h[2],this.pointerCol=h[3],l.rows[this.userRow].cells[this.userCol].classList.remove("road"),l.rows[this.userRow].cells[this.userCol].setAttribute("class","user"),this.incMoveCount(),this.cleared()&&(clearTimeout(c),alert("ゴールおめでとう！\nリセットをクリックでもう一回遊べるドン！")),this}},{key:"cleared",value:function(){return this.userRow===this.goalRow&&this.userCol===this.goalCol}},{key:"view",value:function(){var table=document.createElement("table");for(var e in table.setAttribute("id","mazeGUI"),this.gameData){var t=document.createElement("tr");for(var r in this.gameData[e]){var col=document.createElement("td");this.gameData[e][r]&&col.setAttribute("class","wall"),this.gameData[e][r]||col.setAttribute("class","road"),parseInt(e,10)===this.userRow&&parseInt(r,10)===this.userCol&&col.setAttribute("class","user"),parseInt(e,10)===this.goalRow&&parseInt(r,10)===this.goalCol&&col.setAttribute("class","goal"),t.appendChild(col)}table.appendChild(t)}return table}}]),e}()),f=0,v=!1;function w(){c=setTimeout((function(){var e,t,s,r;f=Date.now()-o,e=document.getElementById("stopWatch"),t=Math.floor(f/6e4),s=Math.floor(f%6e4/1e3),r=f%1e3,t=("0"+t).slice(-2),s=("0"+s).slice(-2),r=("0"+r).slice(-3),e.innerHTML=t+":"+s+"."+r,w()}),100)}function k(){clearTimeout(c),document.getElementById("stopWatch").innerHTML="00:00.000",v=!1}function I(e){switch(v||(v=!0,o=Date.now(),w()),e.preventDefault(),e.key){case"w":case"ArrowUp":n.moveUser(0);break;case"s":case"ArrowDown":n.moveUser(1);break;case"a":case"ArrowLeft":n.moveUser(2);break;case"d":case"ArrowRight":n.moveUser(3)}}function z(){k();var s=document.getElementById("size").value;n=(new d).create(parseInt(s,10));var e=document.getElementById("mazeGUI");e.parentNode.replaceChild(n.view(),e)}function C(){n.resetUser(),n.resetMoveCount(),k();var e=document.getElementById("mazeGUI");e.parentNode.replaceChild(n.view(),e)}function E(e){switch(v||(v=!0,o=Date.now(),w()),e.target.id){case"bup":n.moveUser(0);break;case"bdown":n.moveUser(1);break;case"bleft":n.moveUser(2);break;case"bright":n.moveUser(3)}}var y=function(e){document.getElementById("current-value").innerText=e.target.value};function x(e){var t="https://twitter.com/intent/tweet?text=";if(t+="迷路であそぼう - Kariaweb\n https://kariaweb.herokuapp.com/game/maze/ ",n.cleared()){var r=n.mazeSize,time=document.getElementById("stopWatch").innerHTML;t+="\n"+String(r)+"✕"+String(r)+"の迷路を "+time+"でクリアしたよ！"}window.open(t)}var S={props:{size:{type:Number,default:10}},mounted:function(){this.build()},methods:{build:function(){n=(new d).create(this.size),document.getElementById("maze").appendChild(n.view()),document.addEventListener("keydown",I),document.getElementById("renew").addEventListener("click",z),document.getElementById("reset").addEventListener("click",C),document.querySelectorAll(".moveButton").forEach((function(e){e.addEventListener("click",E)}));var e=document.getElementById("size");document.getElementById("current-value").innerHTML=e.value,e.addEventListener("input",y),document.getElementById("shareTwitter").addEventListener("click",x)}}},R=(r(216),r(36)),component=Object(R.a)(S,(function(){var e=this.$createElement;return(this._self._c||e)("main",{attrs:{id:"maze"}})}),[],!1,null,null,null);t.default=component.exports}}]);